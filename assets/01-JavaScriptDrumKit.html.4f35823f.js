import{_ as s,b as n}from"./app.47730785.js";const a={},e=n(`<h1 id="_01-javascript-drum-kit" tabindex="-1"><a class="header-anchor" href="#_01-javascript-drum-kit" aria-hidden="true">#</a> 01 - JavaScript Drum Kit</h1><h2 id="demo" tabindex="-1"><a class="header-anchor" href="#demo" aria-hidden="true">#</a> Demo</h2><p><a href="https://chenxuanzzy.github.io/JavaScript-30/01%20-%20JavaScript%20Drum%20Kit/index-START.html" target="_blank" rel="noopener noreferrer">01 - JavaScript Drum Kit</a></p><h2 id="\u7C21\u4ECB" tabindex="-1"><a class="header-anchor" href="#\u7C21\u4ECB" aria-hidden="true">#</a> \u7C21\u4ECB</h2><p>\u5728\u7DB2\u9801\u4E0A\u6309\u4E0B\u9375\u76E4\u6642\u6703\u767C\u51FA\u8072\u97F3\u548C\u6548\u679C</p><h2 id="\u7A0B\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u7A0B\u5F0F" aria-hidden="true">#</a> \u7A0B\u5F0F</h2><p><a href="https://github.com/chenxuanzzy/JavaScript-30/tree/main/01%20-%20JavaScript%20Drum%20Kit" target="_blank" rel="noopener noreferrer">GitHub</a></p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#22272e;"><code><span class="line"><span style="color:#ADBAC7;">    &lt;</span><span style="color:#8DDB8C;">script</span><span style="color:#ADBAC7;">&gt;</span></span>
<span class="line"><span style="color:#ADBAC7;">      (function () {</span></span>
<span class="line"><span style="color:#ADBAC7;">        window.</span><span style="color:#DCBDFB;">addEventListener</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;keydown&quot;</span><span style="color:#ADBAC7;">, playHandler);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">function</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">playHandler</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">e</span><span style="color:#ADBAC7;">) {</span></span>
<span class="line"><span style="color:#ADBAC7;">          </span><span style="color:#F47067;">const</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">audio</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> document.</span><span style="color:#DCBDFB;">querySelector</span><span style="color:#ADBAC7;">(</span></span>
<span class="line"><span style="color:#ADBAC7;">            </span><span style="color:#96D0FF;">\`audio[data-key=&quot;\${</span><span style="color:#ADBAC7;">e</span><span style="color:#96D0FF;">.</span><span style="color:#ADBAC7;">keyCode</span><span style="color:#96D0FF;">}&quot;]\`</span></span>
<span class="line"><span style="color:#ADBAC7;">          );</span></span>
<span class="line"><span style="color:#ADBAC7;">          </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;"> (audio) {</span></span>
<span class="line"><span style="color:#ADBAC7;">            audio.currentTime </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">0</span><span style="color:#ADBAC7;">;</span></span>
<span class="line"><span style="color:#ADBAC7;">            audio.</span><span style="color:#DCBDFB;">play</span><span style="color:#ADBAC7;">();</span></span>
<span class="line"><span style="color:#ADBAC7;">          }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">          </span><span style="color:#F47067;">const</span><span style="color:#ADBAC7;"> </span><span style="color:#6CB6FF;">dom</span><span style="color:#ADBAC7;"> </span><span style="color:#F47067;">=</span><span style="color:#ADBAC7;"> document.</span><span style="color:#DCBDFB;">querySelector</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">\`div[data-key=&quot;\${</span><span style="color:#ADBAC7;">e</span><span style="color:#96D0FF;">.</span><span style="color:#ADBAC7;">keyCode</span><span style="color:#96D0FF;">}&quot;]\`</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">          </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;"> (dom) dom.classList.</span><span style="color:#DCBDFB;">add</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;playing&quot;</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ADBAC7;">        document.</span><span style="color:#DCBDFB;">querySelectorAll</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;.key&quot;</span><span style="color:#ADBAC7;">).</span><span style="color:#DCBDFB;">forEach</span><span style="color:#ADBAC7;">((</span><span style="color:#F69D50;">key</span><span style="color:#ADBAC7;">) </span><span style="color:#F47067;">=&gt;</span><span style="color:#ADBAC7;"> {</span></span>
<span class="line"><span style="color:#ADBAC7;">          key.</span><span style="color:#DCBDFB;">addEventListener</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;transitionend&quot;</span><span style="color:#ADBAC7;">, transitionedHandler);</span></span>
<span class="line"><span style="color:#ADBAC7;">        });</span></span>
<span class="line"><span style="color:#ADBAC7;">        </span><span style="color:#F47067;">function</span><span style="color:#ADBAC7;"> </span><span style="color:#DCBDFB;">transitionedHandler</span><span style="color:#ADBAC7;">(</span><span style="color:#F69D50;">e</span><span style="color:#ADBAC7;">) {</span></span>
<span class="line"><span style="color:#ADBAC7;">          </span><span style="color:#F47067;">if</span><span style="color:#ADBAC7;"> (e.propertyName </span><span style="color:#F47067;">===</span><span style="color:#ADBAC7;"> </span><span style="color:#96D0FF;">&quot;transform&quot;</span><span style="color:#ADBAC7;">) {</span></span>
<span class="line"><span style="color:#ADBAC7;">            e.target.classList.</span><span style="color:#DCBDFB;">remove</span><span style="color:#ADBAC7;">(</span><span style="color:#96D0FF;">&quot;playing&quot;</span><span style="color:#ADBAC7;">);</span></span>
<span class="line"><span style="color:#ADBAC7;">          }</span></span>
<span class="line"><span style="color:#ADBAC7;">        }</span></span>
<span class="line"><span style="color:#ADBAC7;">      })();</span></span>
<span class="line"><span style="color:#ADBAC7;">    &lt;/</span><span style="color:#8DDB8C;">script</span><span style="color:#ADBAC7;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h2 id="\u4F5C\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u4F5C\u6CD5" aria-hidden="true">#</a> \u4F5C\u6CD5</h2><ul><li><p>\u5229\u7528 <code>window.addEventListener</code> \u53BB\u76E3\u807D\u51FA\u767C\u9375\u76E4</p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/keyup_event" target="_blank" rel="noopener noreferrer">keyup</a> \u4E8B\u4EF6\u6309\u4E0B\u5F8C\u89F8\u767C</li><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/keydown_event" target="_blank" rel="noopener noreferrer">keydown</a> \u6309\u8457\u4E0D\u653E\u9023\u7E8C\u89F8\u767C</li><li><a href="https://medium.com/@yitailin/%E6%AF%94%E8%BC%83-keydown-keypress-keyup-%E7%9A%84%E5%B7%AE%E7%95%B0-4e873ba17e81" target="_blank" rel="noopener noreferrer">\u6BD4\u8F03 keydown, keypress, keyup \u7684\u5DEE\u7570</a></li></ul></li><li><p>\u76E3\u807D\u51FD\u5F0F\u5167\u53BB\u6293<code>audio</code> \u548C <code>div</code>\u7684<code>data-key</code>\u7684 keyCode \u5F8C\u65B0\u589E\u8072\u97F3\u548C css \u6A23\u5F0F</p><ul><li>ES6 \u5BEB\u6CD5 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals" target="_blank" rel="noopener noreferrer">template strings</a></li><li>\u9700\u8981\u6CE8\u610F\u7684\u662F audio \u8A2D\u5B9A <a href="https://developer.mozilla.org/en-US/docs/Web/API/Animation/currentTime" target="_blank" rel="noopener noreferrer">currentTime</a> = 0\uFF0C\u8B93\u4ED6\u6709\u4E00\u500B\u505C\u7559\uFF0C\u4E0D\u8A2D\u7F6E\u5247\u6703\u6709\u9023\u7E8C\u4E0D\u505C\u7684\u8072\u97F3</li></ul></li><li><p>\u6309\u4E0B\u5F8C\u7ACB\u5373\u79FB\u9664 css \u6A23\u5F0F</p><ul><li>\u53D6\u5F97\u6240\u6709\u7684 .key \u5F8C\u52D5\u614B\u79FB\u9664 css</li><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/TransitionEvent/propertyName" target="_blank" rel="noopener noreferrer">TransitionEvent.propertyName</a></li></ul></li></ul>`,10);function l(p,o){return e}var t=s(a,[["render",l]]);export{t as default};
